#!/bin/sh

# Get the name of the script.
PRG="$0"

# Get the directory of the script.
progname=`basename "$0"`

# Resolve symlinks.
while [ -h "$PRG" ] ; do
  ls=`ls -ld "$PRG"`
  link=`expr "$ls" : '.*-> \(.*\)$'`
  if expr "$link" : '/.*' > /dev/null; then
    PRG="$link"
  else
    PRG=`dirname "$PRG"`"/$link"
  fi
done

# LCIO is up one directory.
LCIO=`dirname "$PRG"`/..

# Make the path fully qualified.
LCIO=`cd "$LCIO" && pwd`

binjar=$(ls $LCIO/target/lcio*-bin.jar)
bincount=$(echo $binjar | wc -l)

if [ $bincount -ne "1" ]; then
    echo "ERROR: There appears to be multiple bin jars in the $LCIO/target/ directory."
    exit 1
fi

java -jar $LCIO/target/lcio*-bin.jar $@
